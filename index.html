<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¨…å‹™å°è±†è… å¢ƒå¤–é›»å•†æ‰£ç¹³è¨ˆç®—æ©Ÿ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #fdfaf0; /* è±†è…éµé»ƒåº•è‰² */
        }
        .tofu-card {
            background-color: #ffffff;
            border: 1px solid #f0e68c;
        }
        .tofu-header {
            background-color: #f9f1a5; /* å°è±†è…é»ƒ */
            color: #5d532d;
        }
        .tofu-accent {
            background-color: #fff9db;
        }
        .tofu-btn {
            background-color: #f7e178;
            color: #5d532d;
            transition: all 0.2s;
        }
        .tofu-btn:hover {
            background-color: #f0d54f;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-2xl mx-auto tofu-card rounded-2xl shadow-lg overflow-hidden">
        <!-- æ¨™é¡Œå€ -->
        <div class="tofu-header p-6 border-b border-khaki-200">
            <h1 class="text-2xl font-bold text-center">ç¨…å‹™å°è±†è… å¢ƒå¤–é›»å•†æ‰£ç¹³è¨ˆç®—æ©Ÿ</h1>
            <p class="text-sm text-center mt-2 opacity-80">è‡ªå‹•è¨ˆç®—çµ¦ä»˜ç¸½é¡&æ‰£ç¹³ç¨…é¡&ç”³å ±æœŸé™</p>
        </div>

        <div class="p-6 space-y-6">
            <!-- è¼¸å…¥å€ -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">å¯¦éš›æ”¯ä»˜é‡‘é¡</label>
                    <input type="number" id="netAmount" value="17500" class="w-full border-yellow-200 rounded-lg shadow-sm focus:ring-yellow-500 focus:border-yellow-500 border p-2" oninput="calculate()">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">å¯¦éš›æ”¯ä»˜æ—¥</label>
                    <input type="date" id="payDate" class="w-full border-yellow-200 rounded-lg shadow-sm focus:ring-yellow-500 focus:border-yellow-500 border p-2" onchange="calculate()">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">æ ¸å®šæ·¨åˆ©ç‡ (%)</label>
                    <input type="number" id="profitRate" value="30" class="w-full border-yellow-200 rounded-lg shadow-sm focus:ring-yellow-500 focus:border-yellow-500 border p-2" oninput="calculate()">
                    <p class="text-[10px] text-gray-400 mt-1">*ç„¡æ ¸å®šæ¯”ä¾‹è«‹å¡« 100</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">åœ‹å…§è²¢ç»åº¦ (%)</label>
                    <input type="number" id="contributionRate" value="100" class="w-full border-yellow-200 rounded-lg shadow-sm focus:ring-yellow-500 focus:border-yellow-500 border p-2" oninput="calculate()">
                    <p class="text-[10px] text-gray-400 mt-1">*ç„¡æ ¸å®šæ¯”ä¾‹è«‹å¡« 100</p>
                </div>
            </div>

            <!-- èªªæ˜æ–‡å­— -->
            <div class="tofu-accent p-4 rounded-lg text-sm text-gray-700 border border-yellow-100">
                <p class="font-bold mb-1">ğŸ“… æ”¯ä»˜æ—¥åˆ¤å®šæé†’ï¼š</p>
                <ul class="list-disc ml-5 space-y-1 text-xs">
                    <li><strong>ä¿¡ç”¨å¡ç¹³ç´ï¼š</strong>ç‚ºã€ŒéŠ€è¡Œæ‰£æ¬¾æ—¥ã€ï¼Œè€Œéåˆ·å¡æ—¥ã€‚</li>
                    <li><strong>å“¡å·¥ä»£ç¹³ï¼š</strong>ç‚ºã€Œå¯¦éš›æ”¯ä»˜å“¡å·¥æ—¥ã€ã€‚</li>
                </ul>
            </div>

            <!-- è¨ˆç®—çµæœ -->
            <div class="bg-white rounded-xl p-6 border-2 border-dashed border-yellow-200">
                <h2 class="text-lg font-bold text-gray-800 mb-4 border-b border-yellow-100 pb-2 text-center">è¨ˆç®—çµæœ</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="space-y-1">
                        <p class="text-xs text-gray-500">æ‰£ç¹³ç‡</p>
                        <p id="taxRateRes" class="text-lg font-semibold text-gray-700">-- %</p>
                    </div>
                    <div class="space-y-1">
                        <p class="text-xs text-gray-500">çµ¦ä»˜ç¸½é¡</p>
                        <p id="grossAmountRes" class="text-lg font-bold text-gray-900">NT$ 0</p>
                    </div>
                    <div class="space-y-1">
                        <p class="text-xs text-gray-500">æ‡‰æ‰£ç¹³ç¨…é¡ (10æ—¥å…§ç¹³ç´)</p>
                        <p id="taxAmountRes" class="text-lg font-bold text-red-600">NT$ 0</p>
                    </div>
                    <div class="space-y-1">
                        <p class="text-xs text-gray-500">ç”³å ±æˆªæ­¢æœŸé™ (å«çµ¦ä»˜ç•¶æ—¥èµ·ç®—10æ—¥å…§)</p>
                        <p id="deadlineRes" class="text-lg font-bold text-orange-600">--</p>
                    </div>
                </div>
            </div>

            <!-- å‚™è¨»èˆ‡é€£çµ -->
            <div class="border-t border-yellow-100 pt-6">
                <h3 class="font-bold text-gray-800 mb-3 flex items-center">
                    <span class="bg-yellow-400 w-1 h-5 mr-2"></span> ç¨…å‹™å°è±†è…æä¾›å¯¦ç”¨é€£çµçµ¦æ‚¨åƒè€ƒ:
                </h3>
                <div class="grid grid-cols-1 gap-3 mb-4">
                    <a href="https://www.etax.nat.gov.tw/etwmain/etw144w/353C" target="_blank" class="tofu-btn flex items-center p-3 rounded-lg shadow-sm">
                        <span class="text-sm font-medium"> ç·šä¸Šåˆ—å°æ‰£ç¹³ç¨…é¡ç¹³æ¬¾æ›¸ (353)</span>
                    </a>
                    <a href="https://www.etax.nat.gov.tw/etwmain/cbec-tax-area/profit-seeking-enterprise-income-tax/approve-net-interest-rate-inquiry" target="_blank" class="tofu-btn flex items-center p-3 rounded-lg shadow-sm">
                        <span class="text-sm font-medium"> æŸ¥è©¢å¢ƒå¤–é›»å•†æ ¸å®šæ·¨åˆ©ç‡&åˆ©æ½¤è²¢ç»åº¦</span>
                    </a>
                     <a href="https://www.etax.nat.gov.tw/etwmain/etw144w/408" target="_blank" class="tofu-btn flex items-center p-3 rounded-lg shadow-sm">
                        <span class="text-sm font-medium"> è³¼è²·åœ‹å¤–å‹å‹™ç‡Ÿæ¥­ç¨…ç¹³æ¬¾æ›¸(408)</span>
                    </a>
                    <a href="https://www.ntbt.gov.tw/singlehtml/41ae3594197f4f69b47753ce08188516?cntId=154b404429a74b60b77d7e71e1d25085" target="_blank" class="bg-white border border-orange-200 flex items-center p-3 rounded-lg shadow-sm hover:bg-orange-50 transition">
                        <span class="text-sm font-medium text-orange-700">âš ï¸ å…¼ç‡Ÿç‡Ÿæ¥­äººå‘å¢ƒå¤–é›»å•†è³¼è²·é›»å­å‹å‹™ï¼Œæ‡‰ç”³å ±è³¼è²·åœ‹å¤–å‹å‹™ä¸¦ä¾è¦å®šå ±ç¹³ç‡Ÿæ¥­ç¨…</span>
                    </a>
                </div>
                
                <div class="bg-orange-50 p-4 rounded-lg border border-orange-100">
                    <p class="text-xs text-orange-800 leading-relaxed">
                        <strong>é‡è¦ç‡Ÿæ¥­ç¨…æé†’ï¼š</strong><br>
                        1. <strong>å…¼ç‡Ÿç‡Ÿæ¥­äºº(403)</strong>ï¼šé ˆæŒ‰ã€Œä¸å¾—æ‰£æŠµæ¯”ä¾‹ã€è¨ˆç®—ç‡Ÿæ¥­ç¨…ï¼Œä¸¦æ–¼ 403 ç”³å ±æ›¸å¡«å¯«ã€Œè³¼è²·åœ‹å¤–å‹å‹™ã€é‡‘é¡ã€‚<br>
                        2. <strong>å°ˆç‡Ÿæ‡‰ç¨…ç‡Ÿæ¥­äºº(401)</strong>ï¼šé›–å…ç¹³ç´æ­¤é …ç‡Ÿæ¥­ç¨…ï¼Œä½†ä»é ˆåœ¨ç”³å ±æ›¸å…§æ­£ç¢ºå¡«å¯«ã€Œè³¼è²·åœ‹å¤–å‹å‹™ã€é‡‘é¡ã€‚<br>
                        3. <strong>åŸ·è¡Œæ¥­å‹™äº‹å‹™æ‰€ã€è²¡åœ˜ã€ç¤¾åœ˜æ³•äºº(ä¸å±¬æ–¼ç‡Ÿæ¥­ç¨…æ³•ç¬¬ 36 æ¢ä½†æ›¸çš„å…ç¨…ç¯„åœ)</strong>ï¼šéœ€å¦å¤–ä¾æ³•ç¹³ç´ã€Œçµ¦ä»˜ç¸½é¡ã€Ã— 5% çš„è³¼è²·åœ‹å¤–å‹å‹™çš„ç‡Ÿæ¥­ç¨…(408)ã€‚
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function calculate() {
            const netAmount = parseFloat(document.getElementById('netAmount').value) || 0;
            const profitRate = parseFloat(document.getElementById('profitRate').value) || 0;
            const contributionRate = parseFloat(document.getElementById('contributionRate').value) || 0;
            const payDateVal = document.getElementById('payDate').value;

            // 1. è¨ˆç®—æ¨ç®—æ‰£ç¹³ç‡ (æ³•å®šæ‰£ç¹³ç‡20% * æ·¨åˆ©ç‡ * è²¢ç»åº¦)
            const taxRate = 0.2 * (profitRate / 100) * (contributionRate / 100);
            document.getElementById('taxRateRes').innerText = (taxRate * 100).toFixed(2) + ' %';

            // 2. è¨ˆç®—çµ¦ä»˜ç¸½é¡ (Gross-up)
            let grossAmount = 0;
            let taxAmount = 0;
            
            if (taxRate < 1) {
                grossAmount = Math.round(netAmount / (1 - taxRate));
                taxAmount = grossAmount - Math.round(netAmount);
            }

            document.getElementById('grossAmountRes').innerText = 'NT$ ' + grossAmount.toLocaleString();
            document.getElementById('taxAmountRes').innerText = 'NT$ ' + taxAmount.toLocaleString();

            // 3. è¨ˆç®—æˆªæ­¢æ—¥æœŸ (å«çµ¦ä»˜ç•¶å¤©èµ·ç®— 10 å¤©)
            if (payDateVal) {
                const date = new Date(payDateVal);
                date.setDate(date.getDate() + 9);
                
                const y = date.getFullYear();
                const m = String(date.getMonth() + 1).padStart(2, '0');
                const d = String(date.getDate()).padStart(2, '0');
                document.getElementById('deadlineRes').innerText = `${y}/${m}/${d}`;
            } else {
                document.getElementById('deadlineRes').innerText = 'è«‹é¸æ“‡æ—¥æœŸ';
            }
        }

        window.onload = function() {
            document.getElementById('payDate').value = "2026-01-01";
            calculate();
        };
    </script>
</body>
</html>